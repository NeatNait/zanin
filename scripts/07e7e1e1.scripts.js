"use strict";angular.module("zaninApp",["ngCookies","ngResource","ngSanitize","ngRoute","ngTouch","ngAnimate","hmTouchEvents"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("zaninApp").controller("MainCtrl",["$scope","$interval","$timeout","$animate",function(a,b,c,d){function e(){b.cancel(f);var c=b(function(){a.createNewAction()},j);return f=c,c}var f,g,h,i=function(a,b){this.gesture=a,this.color=b},j=5e3;a.colors=[{color:"blue",side:"left"},{color:"red",side:"left"},{color:"green",side:"right"},{color:"yellow",side:"right"}],a.firstClick=null,a.gestures=[{g:"tap"},{g:"doubleTap"}],a.actions=[],a.points=0,a.timeLeft=60,a.totalTimePlayed=0,a.lvl="Level 1",b(function(){a.timeLeft<=0?(a.lvl="GAME OVER",a.timeLeft=0):(a.totalTimePlayed++,a.totalTimePlayed<30?(a.timeLeft--,a.lvl="Level 1"):a.totalTimePlayed<60?(a.timeLeft--,a.timeLeft--,a.lvl="Level 2"):a.totalTimePlayed<90?(a.timeLeft-=3,a.lvl="Level 3"):a.totalTimePlayed<120&&(a.timeLeft-=4,a.lvl="Level 4"))},1e3),c(function(){a.colors=[{color:"blue",side:"right"},{color:"red",side:"right"},{color:"green",side:"left"},{color:"yellow",side:"left"}]},4e4),b(function(){a.gestures=[{g:"tap"},{g:"doubleTap"},{g:"swipeLeft"},{g:"swipeRight"}]},2e4),a.init=function(){a.actions.push(a.createRandomAction()),a.actions.push(a.createRandomAction()),a.actions.push(a.createRandomAction()),a.actions.push(a.createRandomAction())},a.createRandomAction=function(){var b=a.colors[Math.floor(a.colors.length*Math.random())].color,c=a.gestures[Math.floor(a.gestures.length*Math.random())].g;return new i(c,b)},a.aciertos=function(){a.points++,a.timeLeft++,a.createNewAction()},a.createNewAction=function(){a.actions.splice(0,1),a.actions.push(a.createRandomAction())};var k=function(b){b===a.actions[0].color?(a.aciertos(),e(),d.addClass(angular.element("."+b),"pushed",function(){d.removeClass(angular.element("."+b),"pushed"),console.log(b),console.log("end")})):console.log("no")};a.checkGesture=function(b,c){return"doubleTap"===g&&"tap"===c&&h===b?(g=c,void(h=b)):(g=c,h=b,void(a.actions[0].gesture===c&&k(b)))}}]);